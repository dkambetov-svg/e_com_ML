# EDA & ML Project - Аналитика возвратов в e-commerce

## Введение
Цель проекта - исследовать причины возвратов в электронной коммерции и предложить способы их снижения на основе данных.
Для анализа использовался датасет E-commerce Website Logs (Kaggle), содержащий логи поведения пользователей, информацию о заказах и возвратах.

## Основная цель
Снизить стоимость возвратов и улучшить продуктовые метрики за счёт:
  - анализа поведения пользователей
  - выявления закономерностей возвратов
  - построения ML-моделей
      - P2B (Purchase Probability)
      - R2R (Return Risk)
  - тестирования персонализированных интерфейсов
  - визуализации результатов в Yandex DataLens

## Организация работы (Scrum / 4 спринта)
  ## План работы (4 недели)
    Спринт 1 — Организация проекта
      - Создан GitHub-репозиторий, оформлены задачи (Issues)
      - Подготовлен бэклог, определены роли и дедлайны
      - Проведён аудит качества данных, обработаны пропуски и выбросы
    Спринт 2 — Базовые метрики и EDA
      - Рассчитаны: сессии, заказы, выручка, средний чек, возвраты
      - Данные разрезаны по странам, языкам, типам аккаунтов и корзинам цен
      - Проверены гипотезы H1–H3
      - Зафиксированы ключевые закономерности
    Спринт 3 — Глубокий EDA + визуализация
      - Построены графики, тепловые карты, распределения
      - Найдены паттерны возвратов и точки потерь
      - Собран черновой дашборд
    Спринт 4 — ML, A/B тест и дашборд
      - Подготовлены признаки для моделей
      - Обучены модели CatBoost для P2B и R2R
      - Проведено A/B-тестирование персонализации
      - Собран финальный дашборд в Yandex DataLens
      
## EDA — ключевые наблюдения
  ## 1) Масштаб возвратов
    - Выручка: ~ 71 млн ₽
    - Возвраты: ~ 13 млн ₽ (≈ 18% потерь)
  ## 2) Поведенческие паттерны
    - Всего 172k сессий, 131k заказов
    - Премиум-пользователи тратят больше, возвращают примерно столько же
    - Наибольшая выручка — наличные и кредитные карты
  ## 3) География и интерфейс
    - В Италии большинство пользователей видят английский интерфейс
    - Это увеличивает возвраты из-за ошибок и недопонимания условий
    - Локализация интерфейса = снижение возвратов

## Проверенные гипотезы
  ## H1 - Возвраты чаще у дорогих заказов: TRUE
    - Пики риска: 250–500 ₽ и 1000–1500 ₽
  ## H2 - Больше заказов ≠ выше средний чек: TRUE
    - Италия и Россия - много заказов, низкий чек
    - Германия, Польша - мало заказов, высокий чек
  ## H3 Почему Италия видит английский интерфейс
    - Часть пользователей — туристы / экспаты
    - Нет нормальной локализации
## ML-модели
Использованные инструменты:
  - CatBoostClassifier
  - pandas, numpy
  - preprocessing: LabelEncoder, Ordinal Encoding
  - train/test split
  - feature engineering
Модели:
  - P2B — вероятность покупки
  - R2R — риск возврата

## A/B-тестирование
Две группы
  - Группа A: обычный интерфейс
  - Группа B: персонализированный интерфейс, где система решала:
    - показать рекомендацию
    - предложить скидку
    - ничего не делать (если риск высок)
Что тестировали
  - изменение CR
  - изменение возвратов
  - изменение GMV
  - влияние персонализации на разные сегменты

## Финальный дашборд (Yandex DataLens)
Создан интерактивный дашборд:
  - сегментация по странам и языкам
  - визуализация возвратов
  - влияние типов пользователей
  - результаты гипотез
  - результаты A/B-теста
  - показатели моделей P2B и R2R

Дашборд объединил данные в единую систему и сделал выводы прикладными, а не академическими

# Заключение
Проект доказал:
  - возвраты можно прогнозировать
  - персонализация снижает риск потерь
  - EDA + ML (дают реальный эффект)
  - дашборд позволяет использовать аналитику ежедневно
Решение помогло понять:
  - какие сегменты дают основные возвраты
  - где UI влияет на ошибки
  - какие страны, языки и способы оплаты дают наибольшие потери
  - какие меры снижает возвраты без потери выручк

    
